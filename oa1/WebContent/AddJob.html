<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="js/bootstrap/css/bootstrap.css" />
	</head>

	<body>
		<div class="container">

			<ol class="breadcrumb">
				<li><a href="#">OA系统</a></li>
				<li><a href="#">职务管理</a></li>
				<li>增加职务</li>
			</ol>

			<h2 class="page-header">增加新职务</h2>

			<form class="form-horizontal" action="dept/add" method="post">
				<div class="form-group">
					<label for="" class="col-sm-2 control-label">职务名称</label>
					<div class="col-sm-8">
						<input type="text" placeholder="请输入职务名称" id="JobName" name="JobName" class="form-control" />
					</div>
				</div>

				<div class="form-group">
					<label for="" class="col-sm-2 control-label">最低工资</label>
					<div class="col-sm-8">
						<input type="number" placeholder="请输入最低工资" id="jobMinSal" name="jobMinSal" class="form-control" />
					</div>
				</div>

				<div class="form-group">
					<label for="" class="col-sm-2 control-label">最高工资</label>
					<div class="col-sm-8">
						<input type="number" placeholder="请输入最高工资" id="jobMaxSal" name="jobMaxSal" class="form-control" />
					</div>
				</div>

				<div class="form-group">
					<div class="col-sm-offset-2 col-sm-8">
						<input id="addBtn" type="button" value="增加职务" class="btn btn-primary" />
						<input type="button" value="返回" class="btn btn-warning" />
					</div>
				</div>

			</form>
		</div>

		<script type="text/javascript" src="js/jquery-3.4.1.js"></script>
		<script type="text/javascript" src="js/global.js"></script>
		<script src="js/layer/layer.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			//表单验证函数
			//表单验证函数
			function checkForm() {

				//职务名称
				var JobName = $('#JobName');

				if (JobName.val() == '' || JobName.val().length > 10) {
					layer.msg('部门名称不能为空且最多10个字符');
					JobName.focus();
					return false;
				}

				//最低工资
				var jobMinSal = $('#jobMinSal');

				if (jobMinSal.val() == '' || jobMinSal.val().length > 6) {
					layer.msg('最低工资不能为空或不能大于6个字符');
					jobMinSal.select();
					return false;
				}

				//最高工资
				var jobMaxSal = $('#jobMaxSal')
				if (jobMaxSal.val() == '' || jobMaxSal.val().length > 8) {
					layer.msg('最高工资不能为空或不能大于8个字符')
					return false;
					jobMaxSal.select();
				}
				return true;
			}

			$('#addBtn').click(function() {

				//调用验证函数
				if (!checkForm())
					return;

				var params = {
					JobName: $('#JobName').val(),
					jobMinSal: $('#jobMinSal').val(),
					jobMaxSal: $('#jobMaxSal').val()
				}
				
				$.post(baseUrl + "/job/add", params, function(data) {

					alert('增加成功');

				});

			});
		</script>

	</body>

</html>